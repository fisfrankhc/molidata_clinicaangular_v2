<div class="page-wrapper">
    <div class="content">

        <!-- Page Header -->
        <div class="page-header">
            <div class="row">
                <div class="col-sm-12">
                    <ul class="breadcrumb">
                        <li class="breadcrumb-item"><a>FARMACIA </a></li>
                        <li class="breadcrumb-item"><i class="feather icon-chevron-right"></i></li>
                        <li class="breadcrumb-item"><a
                                [routerLink]="ruta.farmacia_iniciocierre_operaciones">INICIO/CIERRE DE OPERACIONES </a>
                        </li>
                        <li class="breadcrumb-item"><i class="feather icon-chevron-right"></i></li>
                        <li class="breadcrumb-item active">.</li>
                    </ul>
                </div>
            </div>
        </div>
        <!-- /Page Header -->

        <div class="row">
            <div class="col-sm-12">
                <div class="card card-table show-entire">
                    <div class="card-body">
                        <!-- Table Header -->
                        <div class="page-table-header mb-2">
                            <div class="row align-items-center">
                                <div class="col">
                                    <div class="doctor-table-blk">
                                        <h3>Apertura o Cierre de Caja</h3>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <br>
                    <div style="text-align: center;">FECHA: {{fechaFormateadaver}}</div>
                    <br>
                    <div class="row" style="--bs-gutter-x: -1rem;">
                        <div class="col-md-4 btn btn-outline-success"
                            [class.disabled]="this.ICOperacionesEncontrado1 && this.ICOperacionesEncontrado1 !== undefined"
                            style="padding: 15px; position: relative; height: 150px; margin: auto 1% auto auto;"
                            href="javascript:void(0);" data-bs-toggle="modal" data-bs-target="#apertura_caja">
                            <p
                                style="top: 50%; position: absolute; left: 50%; transform: translate(-50%, -50%); font-weight: bold;">
                                APERTURA DE CAJA</p>
                        </div>
                        <div class="col-md-4 btn btn-outline-danger"
                            [class.disabled]="this.ICOperacionesEncontrado2 && this.ICOperacionesEncontrado2 !== undefined"
                            style="padding: 15px; position: relative; height: 150px;margin: auto auto auto 1%;"
                            href="javascript:void(0);" data-bs-toggle="modal" data-bs-target="#cierre_caja">
                            <p
                                style="top: 50%; position: absolute; left: 50%; transform: translate(-50%, -50%); font-weight: bold;">
                                CIERRE
                                DE CAJA</p>
                        </div>
                    </div>
                    <br>
                    <form class="invoices-form" [formGroup]="form">
                        <!-- Save APERTURA Modal -->
                        <div class="modal custom-modal fade" id="apertura_caja" role="dialog">
                            <div class="modal-dialog modal-dialog-centered">
                                <div class="modal-content">
                                    <div class="modal-body" formGroupName="aperturaCaja">
                                        <div class="form-header">
                                            <h3>APERTURA DE CAJA</h3>
                                            <div class="row">
                                                <div class="col-12 col-md-6">
                                                    <div class="form-group local-forms" style="margin-bottom: 15px;">
                                                        <label style="position: initial;">NOMBRE DE USUARIO:</label>
                                                        <input class="form-control" formControlName="nombreUsuario"
                                                            style="background-color: #f5f5f5; text-align: center;"
                                                            readonly>
                                                    </div>
                                                </div>
                                                <div class="col-12 col-md-6">
                                                    <div class="form-group local-forms" style="margin-bottom: 15px;">
                                                        <label style="position: initial;">FECHA: </label>
                                                        <input class="form-control" formControlName="fecha"
                                                            style="background-color: #f5f5f5; text-align: center;"
                                                            readonly>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col align-self-center">
                                                    <div class="form-group local-forms" style="margin-bottom: 15px;">
                                                        <label style="position: initial;">TIPO: </label>
                                                        <input type="text" class="form-control" formControlName="tipo"
                                                            style="background-color: #f5f5f5; text-align: center;"
                                                            readonly>
                                                    </div>
                                                </div>
                                                <div class="col-12">
                                                    <div class="form-group local-forms" style="margin-bottom: 15px;">
                                                        <label style="position: initial;">MONTO: <span
                                                                class="login-danger">*</span></label>
                                                        <input type="number" class="form-control"
                                                            formControlName="monto" autofocus
                                                            style=" text-align: center;">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="modal-btn delete-action">
                                            <div class="row">
                                                <div class="col-6">
                                                    <a href="javascript:void(0);" data-bs-dismiss="modal"
                                                        class="btn btn-primary paid-cancel-btn">Cancelar</a>
                                                </div>
                                                <div class="col-6">
                                                    <button type="submit" data-bs-dismiss="modal"
                                                        class="btn btn-primary paid-continue-btn" style="width: 100%;"
                                                        (click)="apertura()">CONFIRMAR</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- /Save APERTURA Modal -->
                        <!-- Save CIERRE Modal -->
                        <div class="modal custom-modal fade" id="cierre_caja" role="dialog">
                            <div class="modal-dialog modal-dialog-centered">
                                <div class="modal-content">
                                    <div class="modal-body" formGroupName="cierreCaja">
                                        <div class="form-header">
                                            <h3>CIERRE DE CAJA</h3>
                                            <div class="row">
                                                <div class="col-12 col-md-6">
                                                    <div class="form-group local-forms" style="margin-bottom: 15px;">
                                                        <label style="position: initial;">NOMBRE DE USUARIO:</label>
                                                        <input class="form-control" formControlName="nombreUsuario"
                                                            style="background-color: #f5f5f5; text-align: center;"
                                                            readonly>
                                                    </div>
                                                </div>
                                                <div class="col-12 col-md-6">
                                                    <div class="form-group local-forms" style="margin-bottom: 15px;">
                                                        <label style="position: initial;">FECHA: </label>
                                                        <input class="form-control" formControlName="fecha"
                                                            style="background-color: #f5f5f5; text-align: center;"
                                                            readonly>
                                                    </div>
                                                </div>
                                            </div>
                                            <br>
                                            <h4 style="color: #b3b3b3;">¿ESTÁ SEGURO(A) DE CERRAR CAJA?</h4>
                                        </div>
                                        <div class="modal-btn delete-action">
                                            <div class="row">
                                                <div class="col-6">
                                                    <a href="javascript:void(0);" data-bs-dismiss="modal"
                                                        class="btn btn-primary paid-cancel-btn">Cancelar</a>
                                                </div>
                                                <div class="col-6">
                                                    <button type="submit" data-bs-dismiss="modal"
                                                        class="btn btn-primary paid-continue-btn" style="width: 100%;"
                                                        (click)="cierre()">CERRAR CAJA</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- /Save CIERRE Modal -->
                    </form>
                </div>
            </div>
            <div class="col-sm-12" [class.disabled-reporte]="!this.ICOperacionesEncontrado2 && this.ICOperacionesEncontrado2 == undefined">
                <div class="card card-table show-entire">
                    <div class="card-body">
                        <!-- Table Header -->
                        <div class="page-table-header mb-2">
                            <div class="row align-items-center">
                                <div class="col">
                                    <div class="doctor-table-blk">
                                        <h3 style="font-size: 15px;">Descargar reporte del d&iacute;a</h3>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mb-2" style="padding: 5px 15px 10px;"  >
                        <div class="col-2 download-grp">
                            <a (click)="exportToExcel()" href="javascript:;"><img
                                    src="assets/img/icons/pdf-icon-04.svg" alt=""><span
                                    style="font-size: 10px;">Descargar Reporte del dia</span></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>